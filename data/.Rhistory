set.seed(66)
DBH <- rnorm(n = 16, mean = 6, sd = 2)
Sallys <- rnorm(n = 16, mean = 20, sd = 6)
setwd("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/RAFWE.WFGRS.2023")
save(DBH, Sallys, file = "./04.RCodingandFork/datasetcreation/sallysonwood.RData")
rm(list=ls())
setwd("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/RAFWE.WFGRS.2023")
load("./04.RCodingandFork/datasetcreation/sallysonwood.RData")
model <- lm(Sallys ~ DBH)
save(model, file = "./simulatedmodels/model.RData")
library(ggplot2)
setwd("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/RAFWE.WFGRS.2023")
load("./04.RCodingandFork/simulatedmodels/model.RData")
load("./04.RCodingandFork/datasetcreation/sallysonwood.RData")
rm(list=ls())
library(ggplot2)
setwd("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/RAFWE.WFGRS.2023")
load("./04.RCodingandFork/simulatedmodels/model.RData")
load("./04.RCodingandFork/datasetcreation/sallysonwood.RData")
sallysandwoodplot <- ggplot(model, aes(DBH, Sallys)) +
geom_point() +
stat_smooth(method = lm)
sallysandwoodplot
png(file = "./simulatedgraphs/sallygraph.png")
ggplot(model, aes(DBH, Sallys)) +
geom_point() +
stat_smooth(method = lm)
dev.off()
rm(list=ls())
setwd("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/RAFWE.WFGRS.2023")
load("./04.RCodingandFork/simulatedmodels/model.RData")
load("./04.RCodingandFork/datasetcreation/sallysonwood.RData")
summary(model)
sadness <- confint(model)
setwd("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/RAFWE.WFGRS.2023")
save(sadness, file = "./04.RCodingandFork/simulatedanalysis/sadness.RData")
View(sadness)
View(sadness)
write.table(sadness, file="./simulatedanalysis/itoldyou.txt", sep = ",", quote = FALSE)
ggplot(long_format, aes(x = Treatment, y = Occupancy_Probability, fill = Treatment)) +
geom_boxplot() +
scale_fill_manual(values = box.colors) +
labs(title = "Treatment Intercepts for All Species", x = "Treatment", y = "Occupancy Probability") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5), # Center the title
axis.text.x = element_text(angle = 45, hjust = 1), # Rotate x-axis labels
legend.background = element_rect(fill = "transparent", color = NA), # Transparent legend background
legend.box.background = element_rect(fill = "transparent", color = NA))
rm(list=ls())
setwd("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/oss-occu/data")
library(nimble)
library(ggplot2)
library(data.table)
library(tidyverse)
library(mcmcplots)
library(MCMCvis)
library(boot)
source('attach.nimble_v2.R')
attach.nimble(mcmc.output.2$samples)
load("./all.spp_model_2.RData")
# Renaming and reordering the treatment intercepts for the boxplot
# treatment_matrix <- TreatmentIntercept
trt.int.inv <- inv.logit(TreatmentIntercept)
attach.nimble(mcmc.output.2$samples)
save(mcmc.output.2, file="./all.spp_model_2.RData")
load("./all.spp_model_2.RData")
# Renaming and reordering the treatment intercepts for the boxplot
# treatment_matrix <- TreatmentIntercept
trt.int.inv <- inv.logit(TreatmentIntercept)
treatment_matrix <- trt.int.inv
#treatments are numbered, need to give them names
new.names <- c("Salvage Logged", "Wildfire", "Harvest, Wildfire", "Harvest", "Control")
colnames(treatment_matrix) <- new.names
treatment_matrix <- as.data.frame(treatment_matrix)
#reshape data to long format bc ggplot required
long_format <- gather(treatment_matrix, key = "Treatment", value = "Occupancy_Probability")
#specify treatment order for plot
long_format$Treatment <- factor(long_format$Treatment,
levels = c("Control", "Wildfire", "Harvest, Wildfire", "Harvest", "Salvage Logged")) # Replace "DesiredOrder", "Treat1", etc., with your actual treatment names in the desired order
box.colors <- c('lightgreen','steelblue', 'coral2', '#f9d62e', '#b967ff' )
ggplot(long_format, aes(x = Treatment, y = Occupancy_Probability, fill = Treatment)) +
geom_boxplot() +
scale_fill_manual(values = box.colors) +
labs(title = "Treatment Intercepts for All Species", x = "Treatment", y = "Occupancy Probability") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5), # Center the title
axis.text.x = element_text(angle = 45, hjust = 1), # Rotate x-axis labels
legend.background = element_rect(fill = "transparent", color = NA), # Transparent legend background
legend.box.background = element_rect(fill = "transparent", color = NA))
ggsave("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/oss-occu/figures/06-rework-nimble-models/boxplot_trt_occu_prob_nimble.png",
plot = last_plot())
ggplot(long_format, aes(x = Treatment, y = Occupancy_Probability, fill = Treatment)) +
geom_boxplot() +
scale_fill_manual(values = box.colors) +
labs(title = "Treatment Intercepts for All Species", x = "Treatment", y = "Occupancy Probability") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5), # Center the title
axis.text.x = element_text(angle = 45, hjust = 1))
ggsave("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/oss-occu/figures/06-rework-nimble-models/boxplot_trt_occu_prob_nimble.png",
plot = last_plot())
ggplot(long_format, aes(x = Treatment, y = Occupancy_Probability, fill = Treatment)) +
geom_boxplot() +
theme_classic() +
scale_fill_manual(values = box.colors) +
labs(title = "Treatment Intercepts for All Species", x = "Treatment", y = "Occupancy Probability") +
theme(plot.title = element_text(hjust = 0.5), # Center the title
axis.text.x = element_text(angle = 45, hjust = 1))
ggsave("C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/oss-occu/figures/06-rework-nimble-models/boxplot_trt_occu_prob_nimble.png",
plot = last_plot())
p <- ggplot(long_format, aes(x = Treatment, y = Occupancy_Probability, fill = Treatment)) +
geom_boxplot() +
theme_classic() +
scale_fill_manual(values = box.colors) +
labs(title = "Treatment Intercepts for All Species", x = "Treatment", y = "Occupancy Probability") +
theme(plot.title = element_text(hjust = 0.5), # Center the title
axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(filename = "boxplot_trt_occu_prob_nimble.png", plot = p, device = "png",
path = "C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/oss-occu/figures/06-rework-nimble-models",
width = 13, height = 8, units = "in", dpi = 300)
p <- ggplot(long_format, aes(x = Treatment, y = Occupancy_Probability, fill = Treatment)) +
geom_boxplot() +
theme_classic() +
scale_fill_manual(values = box.colors) +
labs(title = "Treatment Intercepts for All Species", x = "Treatment", y = "Occupancy Probability") +
theme(plot.title = element_text(hjust = 0.5)) # Center the title
ggsave(filename = "boxplot_trt_occu_prob_nimble.png", plot = p, device = "png",
path = "C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/oss-occu/figures/06-rework-nimble-models",
width = 12, height = 8, units = "in", dpi = 300)
ggsave(filename = "boxplot_trt_occu_prob_nimble.png", plot = p, device = "png",
path = "C:/Users/jasmi/OneDrive/Documents/Academic/OSU/Git/oss-occu/figures/06-rework-nimble-models",
width = 10, height = 6, units = "in", dpi = 300)
